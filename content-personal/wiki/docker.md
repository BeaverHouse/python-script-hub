# Docker

[Docker](https://www.docker.com/)는 애플리케이션을 신속하게 구축, 테스트 및 배포할 수 있는 소프트웨어 플랫폼입니다.<br>Docker는 애플리케이션을 컨테이너(<span class="exclude">Container</span>)라는 개념으로 만들어 배포하는데, 기존 배포 방식에 비해 가지는 수많은 장점으로 인해 엄청난 인기를 끌게 되었습니다. 비록 지금은 Docker를 피하려는 움직임도 일부 있지만 DevOps 열풍에 상당한 공헌을 한 것은 부정할 수 없습니다.

## Docker 컨테이너의 특징

### 어디서나 동일한 환경 제공
애플리케이션을 배포할 때 우리는 수많은 문제를 만나게 되는데, 그중 구동 환경 문제도 포함되어 있습니다. 프론트엔드 앱을 빌드할 때 Node.js 버전이 다르거나, Spring Boot 백엔드를 구동할 Java 버전이 다르다면 앱이 실행되지 않거나, 정상적으로 작동을 기대하기 힘들 것입니다.<br>Docker의 컨테이너는 이 구동 환경에 대한 정보까지 모두 담고 있어 어디서나 동일한 환경에서 앱이 실행되도록 합니다. <span class="exclude">`Dockerfile`</span>이라는 별도의 파일을 통해 환경을 설정하고, 이를 기반으로 빌드 과정을 거쳐 이미지를 생성할 수 있습니다. 빌드 과정에서 오류가 발생하면 에러와 함께 빌드가 중단되기 때문에 장애 진단을 미리 할 수도 있습니다. 이 이미지를 통해 만들어진 컨테이너는 어느 환경에서나 동일한 구동 환경을 제공합니다.<br>만들어진 이미지를 배포하는 방법도 동일합니다. Docker 엔진이 있다면 운영 체제에 관계없이 <span class="exclude">`docker`</span> 명령어로 이미지를 배포하면 됩니다.

### 간편한 관리와 확장
Docker 컨테이너 이미지는 마치 하나의 틀과 같다고 생각할 수 있습니다. 내가 여러 개의 앱을 배포하고 싶다면, 단순히 그만큼 <span class="exclude">`docker run`</span> 명령어를 반복하면 됩니다. 이전에 모든 환경을 일일이 설정해야 하고, 오류의 위험도 컸던 것에 비하면 관리/확장의 난이도가 매우 줄어들었다고 할 수 있습니다. 마찬가지로 축소도 간편하게 할 수 있고, 이전 버전의 이미지를 남겨 두었다면 장애 상황에서 롤백도 쉽게 가능합니다.<br>또한 환경 변수 등 일부 설정값을 오버라이딩할 수 있어 어느 정도의 유동성도 있으며, 하나의 서버에 여러 개의 컨테이너를 배포하는 것도 가능하므로 자원 사용량도 최적화가 가능합니다.

## Docker의 한계
이러한 Docker도 만능은 아닙니다. Docker를 사용해도 대규모 리소스를 관리하는 것은 여전히 공수가 많이 들어갔고, 이는 Kubernetes의 등장으로 이어지게 되었습니다.<br>또한 Docker 자체도 몇 가지 문제점을 가지고 있는데, 그중 하나가 Docker 데몬이 너무 많은 권한을 요구하여 보안 문제가 발생할 수 있다는 점입니다. 그래서 최근에는 [kaniko](https://github.com/GoogleContainerTools/kaniko), [BuildKit](https://github.com/moby/buildkit)과 같이 이러한 문제를 개선한 빌드 도구의 인지도도 높아지고 있습니다.

## 참고 자료
- [Docker란 무엇입니까? | AWS <span class="exclude">(amazon.com)</span>](https://aws.amazon.com/ko/docker/)
